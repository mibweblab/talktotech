(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){e.exports=a(270)},160:function(e,t){},197:function(e,t){},198:function(e,t){},268:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);a(133);var n=a(1),o=a.n(n),s=a(52),r=a.n(s),i=(a(139),a(141),a(129)),c=a(31),l=a(122),u=a(53),m=a(123),h=a(124),g=a(125),p=a(130),d=a(126),f=a(131),b=a(15),v=a.n(b),A=a(34),E=a.n(A),w=a(282),O=a(283),z=a(273),U=a(284),N=a(274),y=a(275),S=a(276),T=a(277),j=a(278),k=a(279),D=a(280),M=a(281),H=(a(268),E.a.object().keys({name:E.a.string().min(1).max(100).required(),message:E.a.string().min(2).max(500).required()})),L="/api/v1/messages",P=v.a.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconSize:[25,41],iconAnchor:[12.5,41],popupAnchor:[0,-41]}),C=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={location:{lat:42.358555,lng:-71.093966},haveUserLocation:!1,zoom:2,userMessage:{name:"",message:""}},a.formIsValid=function(){var e={name:a.state.userMessage.name,message:a.state.userMessage.message};return!E.a.validate(e,H).error&&a.state.haveUserLocation},a.formSubmitted=function(e){e.preventDefault(),console.log(a.state.userMessage),a.formIsValid()&&fetch(L,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:a.state.userMessage.name,message:a.state.userMessage.message,latitude:a.state.location.lat,longitude:a.state.location.lng})}).then(function(e){return e.json()}).then(function(e){console.log(e)})},a.valueChanged=function(e){var t=e.target,n=t.name,o=t.value;a.setState(function(e){return{userMessage:Object(m.a)({},e.userMessage,Object(u.a)({},n,o))}})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log(t),e.setState({location:{lat:t.coords.latitude,lng:t.coords.longitude},haveUserLocation:!0,zoom:16})},function(){console.log("Uh oh... They declined our location request"),fetch("https://ipapi.co/json").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({location:{lat:t.latitude,lng:t.longitude},haveUserLocation:!0,zoom:13})})})}},{key:"render",value:function(){var e=[this.state.location.lat,this.state.location.lng];return o.a.createElement("div",{className:"map"},o.a.createElement(w.a,{className:"map",center:e,zoom:this.state.zoom},o.a.createElement(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.haveUserLocation?o.a.createElement(z.a,{position:e,icon:P},o.a.createElement(U.a,null,"A pretty popup. ",o.a.createElement("br",null)," Where users will add their message.")):"",o.a.createElement(N.a,{body:!0,className:"message-form"},o.a.createElement(y.a,null,"Welcome to TellATech"),o.a.createElement(S.a,null,"Leave a comment with your location"),o.a.createElement(S.a,null,"Thanks for stoping by"),o.a.createElement(T.a,{onSubmit:this.formSubmitted},o.a.createElement(j.a,null,o.a.createElement(k.a,{for:"name"},"Name"),o.a.createElement(D.a,{disabled:!this.state.haveUserLocation,onChange:this.valueChanged,type:"text",name:"name",id:"name",placeholder:"Enter your name "})),o.a.createElement(j.a,null,o.a.createElement(k.a,{for:"message"},"Message"),o.a.createElement(D.a,{disabled:!this.state.haveUserLocation,onChange:this.valueChanged,type:"textarea",name:"message",id:"message",placeholder:"Enter a message "})),o.a.createElement(M.a,{type:"submit",color:"info",disabled:!this.formIsValid()},"Send")," "))))}}]),t}(n.Component),q=Object(c.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_user":return t.payload||!1;default:return e}}}),x=Object(c.d)(q,{},Object(c.a)(l.a));r.a.render(o.a.createElement(i.a,{store:x},o.a.createElement(C,null)),document.querySelector("#root"))}},[[132,2,1]]]);
//# sourceMappingURL=main.26c3b3e0.chunk.js.map